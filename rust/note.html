<!DOCTYPE HTML>
<html lang="zh" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>30天深入淺出Rust系列 - Jason Notes</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/custom/custom.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html">Jason Notes</a></li><li class="chapter-item expanded "><a href="../ubuntu/ubuntu_setup.html">Ubuntu</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../ubuntu/command.html">Command</a></li><li class="chapter-item "><a href="../ubuntu/gcp.html">GCP ssh</a></li><li class="chapter-item "><a href="../ubuntu/wine.html">Wine</a></li></ol></li><li class="chapter-item expanded "><a href="../android/android.html">Android</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../android/install_sdk.html">SDK install</a></li><li class="chapter-item "><a href="../android/flutter.html">Flutter</a></li></ol></li><li class="chapter-item expanded "><a href="../tools/tools.html">Tools</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../tools/asciinema.html">asciinema 把終端操作錄製成 gif 動畫</a></li><li class="chapter-item "><a href="../tools/finmind.html">Finmind</a></li><li class="chapter-item "><a href="../tools/add-enter-and-exit-trace-for-your-function.html">addr2line</a></li><li class="chapter-item "><a href="../tools/cmake.html">cmake</a></li><li class="chapter-item "><a href="../tools/network.html">Network</a></li><li class="chapter-item "><a href="../tools/python-pycryptodome-aes-symmetric-encryption-tutorial-examples.html">實作 AES 對稱式加密</a></li></ol></li><li class="chapter-item expanded "><a href="../html/html.html">HTML</a></li><li class="chapter-item expanded "><a href="../vim/vim.html">Vim</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../vim/copilot.html">copilot</a></li><li class="chapter-item "><a href="../vim/tabnine.html">tabnine</a></li></ol></li><li class="chapter-item expanded "><a href="../gdb/gdb.html">Gdb</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../gdb/常用指令.html">常用指令</a></li><li class="chapter-item "><a href="../gdb/jemalloc.html">jemalloc</a></li><li class="chapter-item "><a href="../gdb/graphs.html">graphs</a></li><li class="chapter-item "><a href="../gdb/rust-gdb.html">rust gdb</a></li></ol></li><li class="chapter-item expanded "><a href="../c++/cpp.html">C++</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../c++/benchmark.html">benchmark</a></li><li class="chapter-item "><a href="../c++/smart_pointer.html">Smart pointer</a></li><li class="chapter-item "><a href="../c++/l&rvalue.html">L&amp;R value</a></li><li class="chapter-item "><a href="../c++/move.html">Move</a></li><li class="chapter-item "><a href="../c++/CAS.html">CAS</a></li><li class="chapter-item "><a href="../c++/HFT.html">HFT</a></li></ol></li><li class="chapter-item expanded "><a href="../mojo/mojo.html">Mojo</a></li><li class="chapter-item expanded "><a href="../riscv/riscv.html">RISC-V</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../riscv/qemu_riscv_linux.html">QEMU上運行RISV-V Linux</a></li></ol></li><li class="chapter-item expanded "><a href="../centos/centos.html">CentOS</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../centos/tqdb_setup.html">TQDB 安裝紀錄</a></li></ol></li><li class="chapter-item expanded "><a href="../ssh/ssh.html">SSH</a></li><li class="chapter-item expanded "><a href="../network/socket.html">Network</a></li><li class="chapter-item expanded "><a href="../docker/docker_helloworld.html">Docker</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../docker/docker.html">Docker 基本教學</a></li><li class="chapter-item "><a href="../docker/example.html">簡單範例</a></li><li class="chapter-item "><a href="../docker/creating-the-perfect-python-dockerfile.html">Perfect python dockerfile</a></li><li class="chapter-item "><a href="../docker/dockerfile-from-docker-image.html">由 Docker image 反推其 Dockerfile</a></li><li class="chapter-item "><a href="../docker/python_connect_redis.html">Python連接Redis</a></li><li class="chapter-item "><a href="../docker/command.html">Command</a></li><li class="chapter-item "><a href="../docker/docker_compose.html">Docker compose</a></li><li class="chapter-item "><a href="../docker/docker_compse_example.html">Docker compose example</a></li><li class="chapter-item "><a href="../docker/python_redis.html">Python-Redis</a></li><li class="chapter-item "><a href="../docker/redash.html">Redash</a></li><li class="chapter-item "><a href="../docker/clickhouse.html">ClickHouse</a></li><li class="chapter-item "><a href="../docker/clickhouse-setup.html">clickhouse-setup</a></li><li class="chapter-item "><a href="../docker/python_run_from_local.html">Docker run local</a></li></ol></li><li class="chapter-item expanded "><a href="../rust/rust.html">Rust</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../rust/note.html" class="active">Rust筆記</a></li><li class="chapter-item "><a href="../rust/basic.html">Rust 基本教學</a></li><li class="chapter-item "><a href="../rust/ownership.html">Rust 所有權系統</a></li><li class="chapter-item "><a href="../rust/lifetime.html">Rust 生命週期 (Lifetime)</a></li><li class="chapter-item "><a href="../rust/type.html">Rust 型別系統</a></li><li class="chapter-item "><a href="../rust/polars.html">Polars</a></li><li class="chapter-item "><a href="../rust/rust_call_c.html">Rust call C</a></li><li class="chapter-item "><a href="../rust/10-rust-an-introduction.html">給 C++ 使用者的 Rust 簡介</a></li><li class="chapter-item "><a href="../rust/可視化Rust各資料結構的記憶體佈局.html">可視化Rust各資料結構的記憶體佈局</a></li><li class="chapter-item "><a href="../rust/rust_note.html">學習順序</a></li><li class="chapter-item "><a href="../rust/overview.html">大局觀</a></li><li class="chapter-item "><a href="../rust/String.html">理解字串</a></li><li class="chapter-item "><a href="../rust/easy_rust.html">Easy Rust</a></li><li class="chapter-item "><a href="../rust/rust_easy.html">Rust 新手</a></li><li class="chapter-item "><a href="../rust/module.html">Rust 模組結構</a></li><li class="chapter-item "><a href="../rust/rust_memory.html">Rust與記憶體</a></li><li class="chapter-item "><a href="../rust/rust_vs_cpp.html">Rust vs C++語法</a></li><li class="chapter-item "><a href="../rust/rust_file_format.html">Rust 檔案格式</a></li><li class="chapter-item "><a href="../rust/binary_lib.html">Rust 函數庫/執行檔</a></li><li class="chapter-item "><a href="../rust/print-function-name-dump-stack.html">印出函數名稱</a></li><li class="chapter-item expanded "><a href="../rust/note.html" class="active">30天深入淺出Rust系列</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../rust/30天深入淺出Rust系列/rust_30_day.html">Rust 30 Day</a></li><li class="chapter-item "><a href="../rust/30天深入淺出Rust系列/Move_Borrow_Ownership.html">變數的所有權與借出變數</a></li><li class="chapter-item "><a href="../rust/30天深入淺出Rust系列/Lifetime.html">Lifetime： Borrow 的存活時間</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../go/go.html">Go</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../go/note.html">Golang  Note</a></li><li class="chapter-item "><a href="../go/pytago.html">pytago</a></li><li class="chapter-item "><a href="../go/Go編程實戰派基礎入門.html">Go編程實戰派基礎入門</a></li><li class="chapter-item "><a href="../go/Go編程實戰派Web開發基礎.html">Go編程實戰派Web開發基礎</a></li><li class="chapter-item "><a href="../go/golang_debugger.html">Golang Deubgger</a></li><li class="chapter-item "><a href="../go/golang-go-module-tutorial.html">從一知半解到略懂 Go modules</a></li><li class="chapter-item "><a href="../go/go_mod.html">Go modules</a></li><li class="chapter-item "><a href="../go/trace.html">Golang大殺器之跟蹤剖析trace</a></li><li class="chapter-item "><a href="../go/Coroutine.html">行程、執行緒、協程，傻傻分得清楚！</a></li><li class="chapter-item "><a href="../go/goroutine-and-channel.html">Go併發</a></li><li class="chapter-item "><a href="../go/websocket.html">Websocket</a></li><li class="chapter-item "><a href="../go/returning-pointer-from-a-function-in-go.html">Returning Pointer from a Function in Go</a></li><li class="chapter-item "><a href="../go/golang-memory-management.html">GC 全面解析</a></li><li class="chapter-item "><a href="../go/golang-goroutine.html">Goroutine 與 GMP 原理全面分析</a></li><li class="chapter-item "><a href="../go/oo.html">OO</a></li><li class="chapter-item "><a href="../go/mutex-rwmutex.html">sync.Mutex 和 sync.RWMutex</a></li><li class="chapter-item "><a href="../go/interface.html">interface</a></li><li class="chapter-item "><a href="../go/example.html">Example</a></li></ol></li><li class="chapter-item expanded "><a href="../ml/ml.html">ML</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../ml/pytorch.html">Pytorch</a></li></ol></li><li class="chapter-item expanded "><a href="../python/python.html">Python</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../python/Poetry完全入門指南.html">Poetry完全入門指南</a></li><li class="chapter-item "><a href="../python/搭建gRPC服務.html">搭建gRPC服務</a></li><li class="chapter-item "><a href="../python/python_debugger.html">Python Debugger</a></li><li class="chapter-item "><a href="../python/decorator.html">Python decorator</a></li><li class="chapter-item "><a href="../python/python-decorator.html">裝飾器看這一篇就夠了</a></li><li class="chapter-item "><a href="../python/import-concept.html">import-concept</a></li><li class="chapter-item "><a href="../python/process_thread.html">Process/Thread優缺點</a></li><li class="chapter-item "><a href="../python/processing_communcation.html">Processing 通訊</a></li><li class="chapter-item "><a href="../python/condition.html">Python中的wait和notify</a></li><li class="chapter-item "><a href="../python/生產者消費者模式.html">生產者消費者模式</a></li><li class="chapter-item "><a href="../python/Loguru.html">Loguru</a></li><li class="chapter-item "><a href="../python/WebSocket_reconnect.html">Python WebSocket長連接心跳與短連接</a></li><li class="chapter-item "><a href="../python/bloomrpc.html">bloomrpc</a></li><li class="chapter-item "><a href="../python/concurrent.futures.html">Concurrent futures</a></li><li class="chapter-item "><a href="../python/schedule.html">任務調度</a></li><li class="chapter-item "><a href="../python/plot/plot.html">Plot</a></li><li class="chapter-item "><a href="../python/plot/dash.html">Dash</a></li><li class="chapter-item "><a href="../python/Rust_bindings_for_Python.html">Rust bindings for Python</a></li><li class="chapter-item "><a href="../python/pandas.html">Pandas</a></li><li class="chapter-item "><a href="../python/coroutine.html">Coroutine</a></li><li class="chapter-item "><a href="../python/finmind.html">FinMind</a></li><li class="chapter-item "><a href="../python/telegram_bot.html">Telegram Bot</a></li><li class="chapter-item "><a href="../python/websocket_client_server.html">Websocket client/server</a></li><li class="chapter-item "><a href="../python/poetry.html">從零開始使用 Poetry</a></li><li class="chapter-item "><a href="../python/fil-memory-usage-profiler.html">Fil-memory-usage-profiler</a></li><li class="chapter-item "><a href="../python/plot.html">繪圖</a></li><li class="chapter-item "><a href="../python/shioaji.html">永豐shioaji</a></li><li class="chapter-item "><a href="../python/other.html">Other</a></li></ol></li><li class="chapter-item expanded "><a href="../mermaid/mermaid.html">Mermaid</a></li><li class="chapter-item expanded "><a href="../linux_system/perf.html">Linux System</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../linux_system/1_day_socket.html">Socket</a></li><li class="chapter-item "><a href="../linux_system/cgroup.html">Cgroup</a></li><li class="chapter-item "><a href="../linux_system/perf.html">Perf</a></li></ol></li><li class="chapter-item expanded "><a href="../strategy/bollmaker.html">Strategy</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../strategy/造市/market_market.html">造市</a></li><li class="chapter-item "><a href="../strategy/tw_futures.html">臺指</a></li><li class="chapter-item "><a href="../strategy/arbitrage.html">套利</a></li><li class="chapter-item "><a href="../strategy/配對交易.html">配對交易</a></li><li class="chapter-item "><a href="../strategy/海龜交易.html">海龜交易</a></li><li class="chapter-item "><a href="../strategy/股海筋肉人.html">股海筋肉人</a></li><li class="chapter-item "><a href="../strategy/如何避免過擬合.html">如何避免過擬合</a></li><li class="chapter-item "><a href="../strategy/phcebus/phcebus.html">phcebus</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../strategy/phcebus/菲式思考.html">菲式思考</a></li></ol></li><li class="chapter-item "><a href="../strategy/Option/option.html">選擇權</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../strategy/Option/option_note.html">Option note</a></li></ol></li><li class="chapter-item "><a href="../strategy/vectorbt.html">VectorBT</a></li><li class="chapter-item "><a href="../strategy/orderbook.html">Orderbook</a></li><li class="chapter-item "><a href="../strategy/選股條件.html">選股條件</a></li><li class="chapter-item "><a href="../strategy/如何進場.html">如何進場</a></li><li class="chapter-item "><a href="../strategy/如何出場.html">如何出場</a></li><li class="chapter-item "><a href="../strategy/建倉加碼.html">建倉加碼</a></li><li class="chapter-item "><a href="../strategy/DT.html">當沖</a></li><li class="chapter-item "><a href="../strategy/麻道明/麻道明.html">麻道明</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../strategy/麻道明/假突破.html">假突破</a></li></ol></li><li class="chapter-item "><a href="../strategy/奇正/奇正.html">奇正</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../strategy/奇正/資金控管與試單策略.html">資金控管與試單策略</a></li><li class="chapter-item "><a href="../strategy/奇正/如何出場.html">如何出場</a></li></ol></li><li class="chapter-item "><a href="../strategy/Book/JG.html">JG</a></li><li class="chapter-item "><a href="../strategy/bnf.html">BNF</a></li><li class="chapter-item "><a href="../strategy/cis.html">CIS</a></li><li class="chapter-item "><a href="../strategy/stock.html">Stock</a></li><li class="chapter-item "><a href="../strategy/note.html">Resource</a></li><li class="chapter-item "><a href="../strategy/nansen.html">Nansen</a></li><li class="chapter-item "><a href="../strategy/example.html">Example</a></li><li class="chapter-item "><a href="../strategy/other.html">Other</a></li><li class="chapter-item "><a href="../strategy/sample.html">Sample</a></li><li class="chapter-item "><a href="../strategy/grid.html">Grid</a></li><li class="chapter-item "><a href="../strategy/pine-script.html">pine-script</a></li><li class="chapter-item "><a href="../strategy/拾人牙慧.html">拾人牙慧</a></li><li class="chapter-item "><a href="../strategy/sharpe_ratio.html">夏普值</a></li><li class="chapter-item "><a href="../strategy/display_mae_mfe_analysis.html">MAE&amp;MFE分析</a></li><li class="chapter-item "><a href="../strategy/海龜投資法則.html">海龜投資法則</a></li><li class="chapter-item "><a href="../strategy/edge-ratio-follow-application.html">彈性進出場的判斷</a></li><li class="chapter-item "><a href="../strategy/finlab.html">Finlab</a></li><li class="chapter-item "><a href="../strategy/backtrader/basis.html">Backtrader</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../strategy/backtrader/Python回測框架一Backtrader介紹.html">Python回測框架一Backtrader介紹</a></li><li class="chapter-item "><a href="../strategy/backtrader/Python回測框架二定期定額投資.html">Python 回測框架（二）定期定額投資</a></li><li class="chapter-item "><a href="../strategy/backtrader/Python回測框架三技術指標.html">Python 回測框架（三）技術指標</a></li><li class="chapter-item "><a href="../strategy/backtrader/Python回測框架四CrossOver和Signal.html">Python 回測框架（四）CrossOver 和 Signal</a></li><li class="chapter-item "><a href="../strategy/backtrader/Python回測框架五Sizer.html">Python 回測框架（五）Sizer</a></li><li class="chapter-item "><a href="../strategy/backtrader/Python回測框架六Analyzers.html">Python 回測框架（六）Analyzers</a></li><li class="chapter-item "><a href="../strategy/backtrader/多股組合操作策略.html">多股組合操作</a></li><li class="chapter-item "><a href="../strategy/backtrader/均線交叉策略.html">均線交叉策略</a></li><li class="chapter-item "><a href="../strategy/backtrader/唐奇安通道策略.html">唐奇安通道策略</a></li><li class="chapter-item "><a href="../strategy/backtrader/Sizers模組.html">Sizers模組</a></li><li class="chapter-item "><a href="../strategy/backtrader/Observers模組.html">Observers模組</a></li><li class="chapter-item "><a href="../strategy/backtrader/Pyfolio.html">Pyfolio</a></li><li class="chapter-item "><a href="../strategy/backtrader/Sample.html">Sample</a></li><li class="chapter-item "><a href="../strategy/backtrader/performance.html">Performance</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../mq/kafka.html">MQ</a></li><li class="chapter-item expanded "><a href="../mq/kafka-python.html">Kafka的通俗總結</a></li><li class="chapter-item expanded "><a href="../database/redis.html">Database</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../database/redis.html">Redis</a></li><li class="chapter-item "><a href="../database/hash.html">Redis Hash</a></li><li class="chapter-item "><a href="../database/clickhouse.html">ClickHouse</a></li><li class="chapter-item "><a href="../database/dolphin.html">Dolphin</a></li><li class="chapter-item "><a href="../database/sqlite.html">Sqlite</a></li></ol></li><li class="chapter-item expanded "><a href="../cryptotrade/cryptotrade.html">CryptoTrade</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../cryptotrade/binance/binance.html">Binance</a></li><li class="chapter-item "><a href="../cryptotrade/binance/oco.html">如何將OCO訂單發送到Binance</a></li></ol></li><li class="chapter-item expanded "><a href="../git/git.html">Git</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../git/git-remove-commited-files.html">git-remove-commited-files</a></li><li class="chapter-item "><a href="../git/cheat-sheet.html">Git 常用</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jason Notes</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/shihyu/jason_note" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="rust-筆記"><a class="header" href="#rust-筆記">Rust 筆記</a></h1>
<ul>
<li>as_ptr()</li>
</ul>
<pre><pre class="playground"><code class="language-rust">fn print_type_of&lt;T&gt;(_: T) {
    println!(&quot;{}&quot;, std::any::type_name::&lt;T&gt;());
}

fn main() {
    let free_coloring_book = vec![
        &quot;mercury&quot;, &quot;venus&quot;, &quot;earth&quot;, &quot;mars&quot;, &quot;jupiter&quot;, &quot;saturn&quot;, &quot;uranus&quot;, &quot;neptune&quot;,
    ];
    // 1. free_coloring_book堆上數據的地址
    println!(&quot;address: {:p}&quot;, free_coloring_book.as_ptr());

    // 2. free_coloring_book棧上的地址
    let a = &amp;free_coloring_book;
    println!(&quot;address: {:p}&quot;, a);

    let mut friends_coloring_book = free_coloring_book;

    // 3. friends_coloring_book堆上數據的地址，和1一樣
    println!(&quot;address: {:p}&quot;, friends_coloring_book.as_ptr());

    // 4. friends_coloring_book棧上的地址
    let b = &amp;friends_coloring_book;
    println!(&quot;address: {:p}&quot;, b);
}
</code></pre></pre>
<ul>
<li>Rc / Box 用法</li>
</ul>
<pre><pre class="playground"><code class="language-rust">use std::rc::Rc;

struct Aa {
    id: i32,
}

impl Drop for Aa {
    fn drop(&amp;mut self) {
        println!(&quot;Aa Drop, id: {}&quot;, self.id);
    }
}

fn print_type_of&lt;T&gt;(_: &amp;T) {
    println!(&quot;{}&quot;, std::any::type_name::&lt;T&gt;());
}

fn test_1() {
    let a1 = Aa { id: 1 }; // 數據分配在棧中
    let a1 = Rc::new(a1); // 數據 move 到了堆中？
    print_type_of(&amp;a1);
    //drop(a1);
    println!(&quot;xxxxxxx&quot;);
}

fn test_2() {
    let a1 = Aa { id: 1 }; // 數據分配在棧中
    let a1 = Box::new(a1); // 數據 move 到了堆中？
    print_type_of(&amp;a1);
}

fn main() {
    test_1();
    test_2();
}
</code></pre></pre>
<ul>
<li>data  bss text heap stack</li>
</ul>
<pre><pre class="playground"><code class="language-rust">/// .Text段存放的是程序中的可執行代碼
/// .Data段保存的是已經初始化了的全局變量和靜態變量
/// .ROData（ReadOnlyData）段存放程序中的常量值，如字符串常量
/// .BSS段存放的是未初始化的全局變量和靜態變量，程序執行前會先進行一遍初始化
const G_ARRAY: [i32; 5] = [10; 5];
const G_X: i32 = 100;
static G_VAR: i32 = 1000;

fn test06_heap_or_stack() {
    let s: &amp;str = &quot;test list&quot;;
    //字符串字面量，位於ROData段
    println!(&quot;&amp;str: {:p}&quot;, s); //&amp;str: 0x7ff77e4c6b88
    println!(&quot;{:p}&quot;, &amp;G_ARRAY); //data段:0x7ff6c5fc6bb8
    println!(&quot;{:p}&quot;, &amp;G_X); //data段:0x7ff6c5fc64f0
    println!(&quot;{:p}&quot;, &amp;G_VAR); //data段:0x7ff77e4c6200
    println!(&quot;{}&quot;, &quot;-&quot;.repeat(10));

    // 位於堆
    let bi = Box::new(30);
    println!(&quot;{:p}&quot;, bi); //堆:0x19f6c6585e0
                          // 將字符串字面量從內存中的代碼區（ROData段）復制一份到堆
                          // 棧上分配的變量s1指向堆內存
    let mut s1: String = String::from(&quot;Hello&quot;);
    // 可以通過std::mem::transmute將
    // 從24字節的長度的3個uszie讀出來
    let pstr: [usize; 3] = unsafe { std::mem::transmute(s1) };
    // pstr[0]是一個堆內存地址
    println!(&quot;ptr: 0x{:x}&quot;, pstr[0]); //ptr: 0x19f6c658750

    println!(&quot;{}&quot;, &quot;-&quot;.repeat(10));
    // 位於棧
    let nums1 = [1, 2, 3, 4, 5, 6];
    let mut list: Vec&lt;i32&gt; = vec![20, 30, 40];
    let t = 100;
    println!(&quot;{:p}&quot;, &amp;t); //棧0x116aeff104
    println!(&quot;{:p}&quot;, &amp;nums1); //棧0x116aeff0d0
    println!(&quot;{:p}&quot;, &amp;list); //棧0x116aeff0e8
                             // 從ROData區復制了一份字符串字面量放到堆上，
                             // 然後用棧上分配的s指向堆
    let s: String = &quot;Hello&quot;.to_owned();
    println!(&quot;{:p}&quot;, &amp;s); //0x116aeff1f8
    let s: String = String::from(&quot;Hello&quot;);
    println!(&quot;{:p}&quot;, &amp;s); //0x116aeff260
    let s: String = &quot;Hello&quot;.into();
    println!(&quot;{:p}&quot;, &amp;s); //0x116aeff2c8
}

fn main() {
    test06_heap_or_stack();
}
</code></pre></pre>
<h2 id="ownership有個特性是個大坑"><a class="header" href="#ownership有個特性是個大坑">ownership有個特性是個大坑</a></h2>
<pre><pre class="playground"><code class="language-rust">// ownership有個特性，感覺是個大坑，把不可變資料的ownership move到可變資料，那麼就改值了。這個設定不安全。
fn main() {
    let immutable = Box::new(5u32);
    println!(&quot;{:}&quot;, immutable);

    let mut mutable_box = immutable;
    println!(&quot;{:}&quot;, mutable_box);
    *mutable_box = 4;
    println!(&quot;{:}&quot;, mutable_box);
} 
</code></pre></pre>
<h2 id="rust中mut--mut的區別"><a class="header" href="#rust中mut--mut的區別">Rust中mut, &amp;, &amp;mut的區別</a></h2>
<p>資源：記憶體區塊。不同的記憶體區塊位置和大小就是不同的資源。</p>
<h3 id="str"><a class="header" href="#str">str</a></h3>
<p>let a = &quot;xxx&quot;.to_string();　　
含義：a繫結到字串資源A上，擁有資源A的所有權</p>
<p>let mut a = &quot;xxx&quot;.to_string();　
含義：a繫結到字串資源A上，擁有資源A的所有權，同時a還可繫結到新的資源上面去（更新繫結的能力，但新舊資源類型要同）；</p>
<h3 id="value"><a class="header" href="#value">value</a></h3>
<p>let b = a;
含義：a繫結的資源A轉移給b，b擁有這個資源A</p>
<p>let b = &amp;a;　　
含義：a繫結的資源A借給b使用，b只有資源A的讀權限</p>
<p>let b = &amp;mut a;　　
含義：a繫結的資源A借給b使用，b有資源A的讀寫權限</p>
<p>let mut b = &amp;mut a;　　
含義：a繫結的資源A借給b使用，b有資源A的讀寫權限。同時，b可繫結到新的資源上面去（更新繫結的能力）</p>
<h3 id="string"><a class="header" href="#string">String</a></h3>
<p>fn do(c: String) {}　　
含義：傳參的時候，實參d繫結的資源D的所有權轉移給c</p>
<p>fn do(c: &amp;String) {}　　
含義：傳參的時候，實參d將繫結的資源D借給c使用，c對資源D唯讀</p>
<p>fn do(c: &amp;mut String) {}　　
含義：傳參的時候，實參d將繫結的資源D借給c使用，c對資源D可讀寫</p>
<p>fn do(mut c: &amp;mut String) {}　　
含義：傳參的時候，實參d將繫結的資源D借給c使用，c對資源D可讀寫。同時，c可繫結到新的資源上面去（更新繫結的能力）</p>
<p>函數參數裡面，冒號左邊的部分，mut c，這個mut是對函數體內部有效；冒號右邊的部分，&amp;mut String，這個 &amp;mut 是針對外部實參傳入時的形式化（類型）說明。</p>
<p>下面的例子輸出是什麼：</p>
<pre><pre class="playground"><code class="language-rust">fn concat_literal(s: &amp;mut String) {     
    s.extend(&quot;world!&quot;.chars());         
}                                       
                                          
fn main() {                             
    let mut s = &quot;hello, &quot;.to_owned();   
    concat_literal(&amp;mut s);             
    println!(&quot;{}&quot;, s);                  
}  
</code></pre></pre>
<h2 id="打印-borrow-位址"><a class="header" href="#打印-borrow-位址">打印 borrow 位址</a></h2>
<pre><pre class="playground"><code class="language-rust">fn print_type_of&lt;T&gt;(_: T) {
    println!(&quot;{}&quot;, std::any::type_name::&lt;T&gt;());
}

fn test(a: &amp;mut i32) {
    println!(&quot;{:p}&quot;, *&amp;a); // 打印 reference address 
    println!(&quot;{:p}&quot;, a); // 打印 reference address 
    println!(&quot;{:}&quot;, a);
    *a = 100;
    println!(&quot;{:p}&quot;, &amp;a);
}

fn main() {
    let mut a = 10;
    print_type_of(a);
    let b = &amp;mut a;
    *b = 50;
    print_type_of(b);
    println!(&quot;{:p}&quot;, &amp;a);
    test(&amp;mut a);
    println!(&quot;{:}&quot;, a);
}
</code></pre></pre>
<pre><pre class="playground"><code class="language-rust">fn print_type_of&lt;T&gt;(_: T) {
    println!(&quot;{}&quot;, std::any::type_name::&lt;T&gt;());
}

fn main() {
    let a: i32 = 5;
    print_type_of(a);
    println!(&quot;addr：{:p}&quot;, &amp;a);
    let b = &amp;a;
    print_type_of(b);
    println!(&quot;addr：{:p}&quot;, b);
    println!(&quot;value ：{:}&quot;, b);
    //&amp;a先轉成raw指針，然後再把指針轉成usize，這個可以print的
    let addr = &amp;a as *const i32 as usize;
    println!(&quot;addr：0x{:X}&quot;, addr);

    //為了驗證剛才的地址是不是正確的，我們修改這個指針指向的數據
    //pa就是addr對應的raw指針
    let pa = addr as *mut i32;
    //解引用，*pa其實就是&amp;mut a了，給他賦值100
    unsafe { *pa = 100 };

    //打印a，可以看到a已經變成100了
    println!(&quot;value:{}&quot;, a);
}
</code></pre></pre>
<h2 id="self-和-self-的區別"><a class="header" href="#self-和-self-的區別">&amp;self 和 self 的區別</a></h2>
<p>在 Rust 的方法中，第一個參數為 &amp; self，那麼如果改成 self（不是大寫的 Self）行不行，兩者有什麼區別。
&amp;self，表示向函數傳遞的是一個引用，不會發生對像所有權的轉移；
self，表示向函數傳遞的是一個對象，會發生所有權的轉移，對象的所有權會傳遞到函數中。
原文作者：linghuyichong
轉自鏈接：https://learnku.com/articles/39050</p>
<pre><pre class="playground"><code class="language-rust">#[derive(Debug)]
struct MyType {
    name: String,
}

impl MyType {
    fn do_something(self, age: u32) {
        //等價於 fn do_something(self: Self, age: u32) {
        //等價於 fn do_something(self: MyType, age: u32) {
        println!(&quot;name = {}&quot;, self.name);
        println!(&quot;age = {}&quot;, age);
    }

    fn do_something2(&amp;self, age: u32) {
        println!(&quot;name = {}&quot;, self.name);
        println!(&quot;age = {}&quot;, age);
    }
}

fn main() {
    let my_type = MyType {
        name: &quot;linghuyichong&quot;.to_string(),
    };
    //使用self
    my_type.do_something(18); //等價於MyType::do_something(my_type, 18);
                              //println!(&quot;my_type: {:#?}&quot;, my_type);    //在do_something中，傳入的是對象，而不是引用，因此my_type的所有權就轉移到函數中了，因此不能再使用

    //使用&amp;self
    let my_type2 = MyType {
        name: &quot;linghuyichong&quot;.to_string(),
    };
    my_type2.do_something2(18);
    my_type2.do_something2(18);
    println!(&quot;my_type2: {:#?}&quot;, my_type2); //在do_something中，傳入是引用，函數並沒有獲取my_type2的所有權，因此此處可以使用
    println!(&quot;Hello, world!&quot;);
}
</code></pre></pre>
<ul>
<li>
<p>模擬C++ 建構/解構</p>
<pre><pre class="playground"><code class="language-rust">use std::thread;
use std::process;

struct MyStruct {
    value: i32,
}

impl MyStruct {
    fn new(value: i32) -&gt; MyStruct {
        println!(&quot;MyStruct with value {} created by pid {} tid {:?}&quot;, value, process::id(), thread::current().id());
        MyStruct { value: value }
    }
}

impl Drop for MyStruct {
    fn drop(&amp;mut self) {
        println!(&quot;MyStruct with value {} dropped by pid {} tid {:?}&quot;, self.value, process::id(), thread::current().id());
    }
}

fn main() {
    let my_struct = MyStruct::new(42);
}
</code></pre></pre>
</li>
<li>
<p>trait</p>
</li>
</ul>
<pre><pre class="playground"><code class="language-rust">
/*
 * 這個程式碼定義了一個名叫 Movable 的 trait，這個 trait 定義了一個 movement 方法。
 * Human 和 Rabbit 是兩個結構體，分別實現了 Movable trait。在每個實現中，
 * 都定義了一個 movement 方法，實現了結構體如何移動的行為。
 * 在 main 函數中，我們創建了一個 Human 和一個 Rabbit 的實例，存儲在 human 和 rabbit 變數中。
 * 然後，我們依次對這兩個變數分別調用了 movement 方法，分別輸出了 &quot;Human walk&quot; 和 &quot;Rabbit jump&quot;。
 * 這個程式碼展示瞭如何使用 Rust 的 trait 和結構體來實現多態行為。
 * 使用 trait，可以將類似的操作組織成一個介面，並將其實現為多個不同的類型。這使得代碼更加模組化，可重用性更高。
 * */
trait Movable {
    fn movement(&amp;self);
}

struct Human;

impl Movable for Human {
    fn movement(&amp;self) {
        println!(&quot;Human walk&quot;);
    }
}

struct Rabbit;

impl Movable for Rabbit {
    fn movement(&amp;self) {
        println!(&quot;Rabbit jump&quot;);
    }
}

fn main() {
    let human = Human;
    let rabbit = Rabbit;

    human.movement();
    rabbit.movement();
}
</code></pre></pre>
<ul>
<li>Rust 中有三種方式來引用這個結構實例：<code>self</code>、<code>&amp;self</code>、<code>&amp;mut self</code>。下面舉例說明這三種實例引用方式的不同之處。</li>
</ul>
<p>self<code>和</code>&amp;mut self` 都用於引用結構體實例，但有著不同的含義。</p>
<p><code>self</code> 表示方法使用結構體實例的所有權；而 <code>&amp;mut self</code> 則表示方法使用結構體實例的可變引用。</p>
<p>具體來說，當使用 <code>self</code> 定義方法時，這個方法會接受結構體實例的所有權，即將結構體實例移動到方法中，可以在方法內部進行修改或銷毀。當方法執行完畢後，結構體實例的控制權會返回到調用方。</p>
<p>而使用 <code>&amp;mut self</code> 定義方法時，這個方法會接受結構體實例的可變引用。當方法被調用時，結構體實例依然保持存在，並且可以在方法內部進行修改。當方法執行完畢後，結構體實例保持存在並且可以繼續使用。</p>
<p>總體來說，使用 <code>self</code> 比使用 <code>&amp;mut self</code> 更加靈活，但也更加危險，因為它轉移了結構體實例的所有權。而使用 <code>&amp;mut self</code> 可以讓方法在調用時保留結構體實例，並可以在方法內部進行修改，但需要注意如果結構體同時被多個可讀寫的引用進行修改，就會產生賽博會同步錯誤。因此，方法的實現必須小心處理對結構體實例的存儲和修改依賴關係。</p>
<p>首先，讓我們定義一個結構 <code>Person</code>，其中包含了一個名稱屬性：</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct Person {
    name: String,
}
<span class="boring">}
</span></code></pre></pre>
<p>接下來，我們為這個結構定義三種方法，分別使用 <code>self</code>、<code>&amp;self</code> 和 <code>&amp;mut self</code> 來引用實例。</p>
<ol>
<li>使用 <code>self</code> 引用實例，並修改結構屬性：</li>
</ol>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl Person {
    fn set_name(self, new_name: String) -&gt; Person {
        Person { name: new_name }
    }
}
<span class="boring">}
</span></code></pre></pre>
<p>在這個方法中，<code>self</code> 為結構體的值，透過使用 <code>set_name</code> 方法，我們可以將一個 <code>Person</code> 結構體的名稱屬性更改為一個新的名稱，然後返回一個新的 <code>Person</code> 結構體，原來的實例沒有被修改。這種方式可以原地修改實例，因為它轉移了所有權。</p>
<ol>
<li>使用 <code>&amp;self</code> 引用實例，但不修改結構屬性：</li>
</ol>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl Person {
    fn greet(&amp;self) {
        println!(&quot;Hi, my name is {}&quot;, self.name);
    }
}
<span class="boring">}
</span></code></pre></pre>
<p>在這個方法中，<code>&amp;self</code> 為結構體的借用引用，它將 <code>Person</code> 結構體的所有權借用給了 <code>greet</code> 方法，但不允許 <code>greet</code> 方法修改該實例的任何屬性。因此，這種方式適用於只需要讀取結構屬性的方法。</p>
<ol>
<li>使用 <code>&amp;mut self</code> 引用實例，並修改結構屬性：</li>
</ol>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl Person {
    fn rename(&amp;mut self, new_name: String) {
        self.name = new_name;
    }
}
<span class="boring">}
</span></code></pre></pre>
<p>在這個方法中，<code>&amp;mut self</code> 為結構體的可變引用，透過使用 <code>rename</code> 方法，我們可以將一個 <code>Person</code> 結構體的名稱屬性更改為一個新的名稱。這種方式允許修改結構屬性，因為它使用了結構體的可變引用。</p>
<p>總結來說，這三種方式分別提供了不同的實例引用方法。使用 <code>self</code> 從原始的實例移動所有權，這在歸還新創建的 <code>Person</code> 結構體時特別有用。使用 <code>&amp;self</code> 或 <code>&amp;mut self</code> 以引用的方式讀取和修改結構屬性。使用 <code>&amp;self</code>可以保證實例是不可變的，而使用 <code>&amp;mut self</code> 允許修改實例的內容。</p>
<ul>
<li>
<p>在 Rust 中，<code>self</code> 和 <code>Self</code> 都表示結構體或枚舉的類型，但有著不同的含義。</p>
<p>self<code>在方法定義中是用來引用實例自身，而</code>Self<code>則用來表示結構體或枚舉本身的類型。下面是一個示例，說明瞭</code>Self<code>和</code>self` 的使用：</p>
<p>在這個示例中，我們定義了一個名為 <code>Rectangle</code> 的結構體，並為其實現了三個方法：<code>new</code>、<code>area</code> 和 <code>same</code>。</p>
<p>在 <code>new</code> 方法中，我們使用了 <code>Self</code> 來表示結構體的類型，並使用了 <code>self</code> 變量，它是一個引用結構體實例的不可變引用。這個方法創建了一個新的 <code>Rectangle</code> 結構體實例，並將其返回。</p>
<p>在 <code>area</code> 方法中，我們使用了 <code>&amp;self</code> 引用，這個方法只是計算結構體實例的面積，但不修改它。</p>
<p>在 <code>same</code> 方法中，我們使用了 <code>&amp;Self</code> 引用，這個方法不需要引用結構體實例本身，而是可以直接使用 <code>Rectangle</code> 類型來比較兩個實例是否具有相同的寬度和高度。</p>
<p>在 <code>main</code> 函數中，我們創建了一個 <code>Rectangle</code> 結構體實例，調用了 <code>area</code> 方法來計算實例的面積，並調用了 <code>same</code> 方法來檢查實例是否是一個正方形。</p>
<p>總結來說，<code>self</code> 主要用於方法中引用結構體實例本身，而 <code>Self</code> 則用作表示結構體或枚舉的類型。</p>
<pre><pre class="playground"><code class="language-rust">struct Rectangle {
    width: u32,
    height: u32,
}

impl Rectangle {
    fn new(width: u32, height: u32) -&gt; Self {
        Self { width, height }
    }

    fn area(&amp;self) -&gt; u32 {
        self.width * self.height
    }

    fn same(rect: &amp;Self) -&gt; bool {
        rect.width == rect.height
    }
}

fn main() {
    let rectangle = Rectangle::new(10, 5);
    println!(
        &quot;The area of the rectangle is {} square pixels.&quot;,
        rectangle.area()
    );
    println!(&quot;Is the rectangle a square? {}&quot;, Rectangle::same(&amp;rectangle));
}

</code></pre></pre>
<h2 id="handle-trait-的方式不同"><a class="header" href="#handle-trait-的方式不同"><code>Handle</code> trait 的方式不同</a></h2>
<p>第一個代碼示例中，我們在 <code>Handle</code> trait 中定義了一個實例方法 <code>handle()</code>，它接受一個 <code>&amp;self</code> 參數，表示該方法是與 <code>Handler</code> 結構體實例相關聯的。在實現 <code>Handle</code> trait 時，我們對每個需要處理的類型都分別實現了 <code>handle()</code> 方法，通過 <code>impl Handle&lt;i32&gt; for Handler</code> 和 <code>impl Handle&lt;f64&gt; for Handler</code> 定義了對 <code>i32</code> 和 <code>f64</code> 類型的處理過程。在 <code>main()</code> 中，我們創建了 <code>Handler</code> 結構體對象 <code>handler</code>，然後調用 <code>handler.handle(10)</code> 和 <code>handler.handle(10.5)</code> 方法來處理輸入的不同類型數據。</p>
<pre><pre class="playground"><code class="language-rust">struct Handler;

trait Handle&lt;T&gt; {
    fn handle(&amp;self, input: T);
}

impl Handle&lt;i32&gt; for Handler {
    fn handle(&amp;self, input: i32) {
        println!(&quot;This is i32: {}&quot;, input);
    }
}

impl Handle&lt;f64&gt; for Handler {
    fn handle(&amp;self, input: f64) {
        println!(&quot;This is f64: {}&quot;, input);
    }
}

fn main() {
    let handler = Handler;

    // 使用 i32 類型的 Handler
    handler.handle(10);

    // 使用 f64 類型的 Handler
    handler.handle(10.5);
}
</code></pre></pre>
<p>第二個代碼示例中，我們在 <code>Handle</code> trait 中定義了一個關聯函數 <code>handle()</code>，它不需要 <code>&amp;self</code> 參數，表示該函數與 <code>Handler</code> 結構體實例無關。在實現 <code>Handle</code> trait 時，我們同樣對每個需要處理的類型都分別實現了 <code>handle()</code> 關聯函數，通過 <code>impl Handle&lt;i32&gt; for Handler</code> 和 <code>impl Handle&lt;f64&gt; for Handler</code> 定義了對 <code>i32</code> 和 <code>f64</code> 類型的處理過程。在 <code>main()</code> 中，我們不創建任何 <code>Handler</code> 的對象，而是直接對 <code>Handler</code> 結構體類型調用 <code>Handler::handle(10)</code> 和 <code>Handler::handle(10.5)</code>方法來處理輸入的不同類型數據。</p>
<p>因此，這兩段代碼的區別在於實現 <code>Handle</code> trait 的方式不同。第一個代碼示例中實現了一個實例方法 <code>handle()</code>，第二個代碼示例中實現了一個關聯函數 <code>handle()</code>。這兩個方法/函數的調用方式也不同。</p>
<pre><pre class="playground"><code class="language-rust">struct Handler;

trait Handle&lt;T&gt; {
    fn handle(&amp;self, input: T);
}

impl Handle&lt;i32&gt; for Handler {
    fn handle(&amp;self, input: i32) {
        println!(&quot;This is i32: {}&quot;, input);
    }
}

impl Handle&lt;f64&gt; for Handler {
    fn handle(&amp;self, input: f64) {
        println!(&quot;This is f64: {}&quot;, input);
    }
}

fn main() {
    let handler = Handler;

    // 使用 i32 類型的 Handler
    handler.handle(10);

    // 使用 f64 類型的 Handler
    handler.handle(10.5);
}
</code></pre></pre>
</li>
</ul>

                        <script src="https://utteranc.es/client.js"
                            repo="imxood/imxood.github.io"
                            issue-term="pathname"
                            theme="boxy-light"
                            crossorigin="anonymous"
                            async>
                        </script>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../rust/rust.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../rust/basic.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../rust/rust.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../rust/basic.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_line_numbers = true;
        </script>
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="../editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../theme/custom/mermaid.min.js"></script>
        <script type="text/javascript" src="../theme/custom/mermaid-init.js"></script>
    </body>
</html>
